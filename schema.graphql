# Type definitions

type Author {
  id: Int!
  name: String!
  country: String!
  birthYear: Int!
  books: [Book!]!  # ðŸ”¥ Relation: an author has multiple books
}

type Book {
  id: Int!
  title: String!
  pages: Int!
  year: Int!
  author: Author!  # ðŸ”¥ Relation: a book has an author
  borrowings: [Borrowing!]!  # ðŸ”¥ Relation: a book has borrowings
}

type Borrowing {
  id: Int!
  userName: String!
  borrowDate: String!
  returned: Boolean!
  book: Book!  # ðŸ”¥ Relation: a borrowing concerns a book
}

# Entry point: Queries (read operations)
type Query {
  # Fetch all authors
  authors: [Author!]!
  
  # Fetch an author by ID
  author(id: Int!): Author
  
  # Fetch all books
  books: [Book!]!
  
  # Fetch a book by ID
  book(id: Int!): Book
  
  # Fetch all borrowings
  borrowings: [Borrowing!]!
}

# Entry point: Mutations (write operations)
type Mutation {
  # Create a borrowing
  createBorrowing(bookId: Int!, userName: String!): Borrowing!
  
  # Return a book
  returnBook(borrowingId: Int!): Borrowing!
  
  # Add a book
  addBook(title: String!, authorId: Int!, pages: Int!, year: Int!): Book!
}